<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alke Wallet | Cargando</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <style>
        body,
        html {
            height: 100%;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #000 !important;
            background-image: none !important;
            color: var(--neon-green);
            font-family: var(--font-robot);
            overflow: hidden;
        }

        .loader-content {
            text-align: center;
            background: none;
            border: none;
            box-shadow: none;
        }

        #status {
            font-size: 1.2rem;
            letter-spacing: 2px;
            margin-bottom: 20px;
            opacity: 0.8;
        }

        #countdown {
            font-size: 8rem;
            font-weight: bold;
            text-shadow: var(--neon-glow-strong);
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .flash-animation {
            animation: pulse-flash 0.5s ease-out;
        }

        @keyframes pulse-flash {
            0% {
                transform: scale(0.5);
                opacity: 0;
                filter: brightness(2);
            }

            50% {
                transform: scale(1.2);
                opacity: 1;
                filter: brightness(3);
            }

            100% {
                transform: scale(1);
                opacity: 1;
                filter: brightness(1);
            }
        }

        .entering {
            font-size: 3rem !important;
            letter-spacing: 10px;
        }
    </style>
</head>

<body>
    <div class="loader-content">
        <div id="status">INICIALIZANDO WALLET...</div>
        <div id="countdown"></div>
    </div>

    <script>
        const statusEl = document.getElementById('status');
        const countdownEl = document.getElementById('countdown');

        const sequence = [
            { val: "", msg: "INICIALIZANDO WALLET..." },
            { val: "3", msg: "INICIALIZANDO WALLET..." },
            { val: "2", msg: "CARGANDO SISTEMA..." },
            { val: "1", msg: "SINCRONIZANDO..." },
            { val: "ENTRANDO", msg: "TODO LISTO" }
        ];

        let currentStep = 0;

        function runNextStep() {
            if (currentStep >= sequence.length) {
                window.location.href = "login.html";
                return;
            }

            const step = sequence[currentStep];

            // Actualizar textos
            statusEl.textContent = step.msg;
            countdownEl.textContent = step.val;

            // Aplicar clase especial para ENTRANDO
            if (step.val === "ENTRANDO") {
                countdownEl.classList.add('entering');
            }

            // Reiniciar animación si hay valor
            if (step.val) {
                countdownEl.classList.remove('flash-animation');
                void countdownEl.offsetWidth; // Trigger reflow
                countdownEl.classList.add('flash-animation');
            }

            currentStep++;
            // El primer paso dura un poco más o igual
            setTimeout(runNextStep, currentStep === 1 ? 1200 : 1000);
        }

        // Iniciar secuencia
        runNextStep();
    </script>
</body>

</html>